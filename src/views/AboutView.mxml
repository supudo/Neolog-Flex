<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark"
		xmlns:controls="controls.*"
		backgroundColor="#29435E"
		title="About"
		creationComplete="about_creationCompleteHandler(event)">
	
	<fx:Metadata>
		[ResourceBundle("resources")]
	</fx:Metadata> 
	
	<fx:Script>
		<![CDATA[
			import database.Database;
			import database.DatabaseResponder;
			
			import mx.core.FlexGlobals;
			import mx.events.FlexEvent;
			
			import spark.components.supportClasses.StyleableTextField;
			
			protected function about_creationCompleteHandler(event:FlexEvent):void {
				this.title = resourceManager.getString('resources','menu_About');
				
				var dbHelper:Database = new Database();
				dbHelper.init(new DatabaseResponder());
				var aboutHtml:String = dbHelper.getTextContent(2).content;
				aboutHtml = aboutHtml.replace(new RegExp("<br />", "g"), "");
				
				var myStyleSheet:StyleSheet = new StyleSheet();
				var styles:String = "a { color: #000000; text-decoration: underline; } a:hover { color: #DF9368; }";
				myStyleSheet.parseCSS(styles);
				
				StyleableTextField(this.txtContent.textDisplay).styleSheet = myStyleSheet;
				StyleableTextField(this.txtContent.textDisplay).htmlText = aboutHtml;
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	
	<s:TextArea id="txtContent" width="100%" height="100%" borderVisible="false" skinClass="spark.skins.mobile.TextAreaSkin"/>  
</s:View>
